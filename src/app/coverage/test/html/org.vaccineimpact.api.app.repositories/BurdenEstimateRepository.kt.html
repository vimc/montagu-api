<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>BurdenEstimateRepository.kt</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">app</a> &gt; <a href="index.source.html" class="el_package">org.vaccineimpact.api.app.repositories</a> &gt; <span class="el_source">BurdenEstimateRepository.kt</span></div><h1>BurdenEstimateRepository.kt</h1><pre class="source lang-java linenums">package org.vaccineimpact.api.app.repositories

import org.vaccineimpact.api.app.errors.UnknownObjectError
import org.vaccineimpact.api.app.models.BurdenEstimateOutcome
import org.vaccineimpact.api.app.repositories.burdenestimates.BurdenEstimateWriter
import org.vaccineimpact.api.app.repositories.jooq.ResponsibilityInfo
import org.vaccineimpact.api.models.*
import org.vaccineimpact.api.models.expectations.RowLookup
import org.vaccineimpact.api.serialization.FlexibleDataTable
import java.time.Instant

interface BurdenEstimateRepository : Repository
{
    val touchstoneRepository: TouchstoneRepository

    /** Returns the database ID of the newly created burden estimate set **/
    fun createBurdenEstimateSet(responsibilityId: Int,
                                modelVersionId: Int,
                                properties: CreateBurdenEstimateSet,
                                uploader: String,
                                timestamp: Instant): Int

    fun getBurdenEstimateSet(groupId: String, touchstoneVersionId: String, scenarioId: String,
                             burdenEstimateSetId: Int): BurdenEstimateSet

    fun getBurdenEstimateSets(groupId: String, touchstoneVersionId: String, scenarioId: String): List&lt;BurdenEstimateSet&gt;

    fun clearBurdenEstimateSet(setId: Int, groupId: String, touchstoneVersionId: String, scenarioId: String)

    fun addModelRunParameterSet(groupId: String, touchstoneVersionId: String, modelVersionId: Int,
                                modelRuns: List&lt;ModelRun&gt;,
                                uploader: String, timestamp: Instant): Int

    fun getModelRunParameterSets(groupId: String, touchstoneVersionId: String): List&lt;ModelRunParameterSet&gt;
    fun checkModelRunParameterSetExists(modelRunParameterSetId: Int, groupId: String, touchstoneVersionId: String)

    fun getModelRunParameterSet(groupId: String, touchstoneVersionId: String, setId: Int): FlexibleDataTable&lt;ModelRun&gt;
    fun changeBurdenEstimateStatus(setId: Int, newStatus: BurdenEstimateSetStatus)
    fun updateCurrentBurdenEstimateSet(responsibilityId: Int, setId: Int, type: BurdenEstimateSetType)
    fun getEstimateWriter(set: BurdenEstimateSet): BurdenEstimateWriter
    fun getBurdenEstimateSetForResponsibility(setId: Int, responsibilityId: Int): BurdenEstimateSet

    @Throws(UnknownObjectError::class)
    fun getResponsibilityInfo(groupId: String, touchstoneVersionId: String, scenarioId: String): ResponsibilityInfo

    fun validateEstimates(set: BurdenEstimateSet,
                          expectedRowMap: RowLookup)
            : RowLookup

    fun getBurdenOutcomeIds(matching: String): List&lt;Short&gt;

    fun getEstimates(setId: Int, responsibilityId: Int, outcomeIds: List&lt;Short&gt;,
<span class="nc" id="L53">                     burdenEstimateGrouping: BurdenEstimateGrouping = BurdenEstimateGrouping.AGE):</span>
            BurdenEstimateDataSeries

    fun getBurdenEstimateOutcomesSequence(groupId: String, touchstoneVersionId: String, scenarioId: String, burdenEstimateSetId: Int)
            : Sequence&lt;BurdenEstimateOutcome&gt;

    fun getExpectedOutcomesForBurdenEstimateSet(burdenEstimateSetId: Int): List&lt;String&gt;

    fun updateBurdenEstimateSetFilename(setId: Int, filename: String?)
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.3.201901230119</span></div></body></html>