apply plugin: 'application'
mainClassName = "org.vaccineimpact.api.blackboxTests.AppKt"

repositories {
    maven { url "http://dl.bintray.com/scalaz/releases" }
    maven { url "https://dl.bintray.com/giltgroupe/maven/" }
}

dependencies {
    compile project(":testHelpers")
    compile project(":databaseInterface")

    testCompile "junit:junit:4.12"
    testCompile "org.assertj:assertj-core:3.6.2"

    testCompile "org.slf4j:slf4j-simple:1.7.21"

    testCompile "khttp:khttp:0.1.0"
    testCompile "com.beust:klaxon:0.31"

    testCompile "com.github.fge:json-schema-validator:2.2.6"
    testCompile "uk.gov.nationalarchives:csv-validator-java-api:1.1"

    testCompile project(":testHelpers")
    testCompile project(":databaseInterface")
    testCompile project(":security")
}

task copySpec(type: Copy) {
    from 'src/test/resources/spec'
    include '*.schema.json'
    into 'build/classes/test/spec'
}
test.dependsOn 'copySpec'